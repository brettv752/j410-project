<!doctype html>

<html>

<head>
	
	<title>Accompanying the MPU - Home</title>
	
	<meta content="A journey following Cal Poly's Music Production Union during the Winter 2020 quarter" name="description">
    
	<meta content="cal poly mpu, cal poly music, cal poly music production union, cal poly music production, cal poly music club" name="keywords">>

    <!--The following displays language used in browser to interpret page -->
    <meta charset="UTF-8">

    <!--link tags are for linking to external files, in this case your CSS stylesheet-->
    <link href="style1.css" rel="stylesheet" type="text/css">

    <!--link tags are for linking to external files, in this case a special CSS stylesheet-->
    <link href="normalize.css" rel="stylesheet" type="text/css">

    <!--the following tag tells the browser to adjust the site according to screen size-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--The following code links to the jquery library -->
    <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>

    <!--The following code links to the javascript file that runs the slideshow -->
    <script type="text/javascript" src="js/jquery.cycle2.min.js"></script>

    <!--The following code links to the javascript file that runs the parallax image -->
    <script src="js/parallax.min.js"></script>

    <!--The following code links to Google Fonts-->
    <link href="https://fonts.googleapis.com/css2?family=Homemade+Apple&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nothing+You+Could+Do&display=swap" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

    <!--The following javscript runs the jquery slideshow -->
    <script type="text/javascript">
$('#slider').cycle({});
</script>

    <!--The following javascript runs the nav bar which disappears on scroll-->
    <script type="text/javascript">
// Hide Header on on scroll down
var didScroll;
var lastScrollTop = 0;
var delta = 5;
var navbarHeight = $('header').outerHeight();

$(window).scroll(function(event){
    didScroll = true;
});

setInterval(function() {
    if (didScroll) {
        hasScrolled();
        didScroll = false;
    }
}, 250);

function hasScrolled() {
    var st = $(this).scrollTop();

    // Make sure they scroll more than delta
    if(Math.abs(lastScrollTop - st) <= delta)
        return;

    // If they scrolled down and are past the navbar, add class .nav-up.
    // This is necessary so you never see what is "behind" the navbar.
    if (st > lastScrollTop && st > navbarHeight){
        // Scroll Down
        $('header').removeClass('nav-down').addClass('nav-up');
    } else {
        // Scroll Up
        if(st + $(window).height() < $(document).height()) {
            $('header').removeClass('nav-up').addClass('nav-down');
        }
    }

    lastScrollTop = st;
}
</script>

    <!--Favicon - images are in a folder called 'fav'-->
    <link rel="j410siteLogo" sizes="176x110" href="img/j410siteLogo.png">
    <link rel="icon" type="image/png" sizes="32x20" href="img/j410siteFavicon.png">
    <link rel="icon" type="image/png" sizes="16x10" href="img/j410siteFavicon.png">
    <link rel="manifest" href="img/fav/site.webmanifest">
    <link rel="mask-icon" href="img/fav/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <!--End Favicon-->

    <!--back to top button-->
    <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
    <script>
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 30 || document.documentElement.scrollTop > 30) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0; // For Safari
  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
}
</script>
</head>

<body>

<!--beginning of navigation section-->
<header>
    <div class="nav-container">
        <div class="brand"><img src="img/j410siteLogo.png" width="119" height="75" alt=""/></div>
        <nav>
            <div class="nav-mobile"><a id="nav-toggle" href="#!"><span></span></a></div>
            <ul class="nav-list">
                <li>
                    <a href="#home">About The MPU</a>
                </li>
                <li>
                    <a href="#gal">A Night With The MPU</a>
                </li>
                <li>
                    <a href="#tl">The People Of The MPU</a>
                </li>
                <li>
                    <a href="#vid">An Interview With Ryan Morris</a>
                </li>
                <li>
                    <a href="#num">Music Production Clubs Across The US</a>
                </li>
            </ul>
        </nav>
    </div>
    <!--closing navigation tag-->
</header>
<!--end of navigation section-->

<!--main image-->
<div class="container">
</div>
<!--animated welcome-->
<div class="wrapper">
    <!--animated welcome code here-->
</div>

<!--beginning of main content area-->
<div class="row whiteBG">
    <h2 id="home">About the MPU</h2>
    <article>
        <p class="tab">Started in 2014, Cal Poly SLO's Music Production Union has become a dedicated space for musicians to gather, create and perform among their peers. <br><br>Blurb 2</p>
        <p class="tab"><a href="#gal">Navigation</a></p>
    </article>
</div>

<!--beginning of slideshow section-->
<div class="row blueBG"><!--beginning of row-->
    <h2 id="gal">A Night With The MPU</h2>
    <article><!--beginning of article-->
        <p class="tab">Scenes from Music Production Union's 2020 Winter Concert in the University Union</p>
        <!--beginning of slideshow-->
        <div id="slider"
             data-cycle-caption="#alt-caption"
             data-cycle-caption-template="{{alt}}"
             data-cycle-fx="scrollHorz"
             data-cycle-pause-on-hover="true"
             data-cycle-speed="200">
            <div class="cycle-prev"></div>
            <div class="cycle-next"></div>
                <img src="img/Setup4.jpg" width="100%" height="100%" alt="Members of Cal Poly’s Music Production Union, Audio Engineering Society and ASI begin to set up the mix of speakers, microphones, instruments, mixing equipment and lighting needed for the MPU’s annual Winter concert in the UU."/>
                <img src="img/Setup2.jpg" width="100%" height="100%" alt="5th-year philosophy major Jack B. test-strums a guitar. While not performing in the concert himself, he offered his time to help the MPU set up."/>
                <img src="img/Setup1.jpg" width="100%" height="100%" alt="Cuesta College student Tirron (background) checks speakers while AES secretary and 3rd-year mechanical engineering major David Lanfranconi (foreground) adjusts their settings before the show. Explaining how crucial audio engineering is during a concert, Lanfranconi states, “Good performance depends on good audio engineering.”"/>
                <img src="img/Setup3.jpg" width="100%" height="100%" alt="AES member and 3rd-year mechanical engineering major Holly Johnson (left) balances mics and speakers while MPU vice president and 4th-year electrical engineering major Ryan Morris (right) plays with the drumset. When asked for a quote, Morris decided to quote Bugs Bunny: “Never take life seriously. Nobody ever gets out alive.”"/>
                <img src="img/Zoe_Carpenter1.jpg" width="100%" height="100%" alt="Zoe Carpenter opens the show, covering Frank Ocean on the piano."/>
                <img src="img/Space_Koupe2.jpg" width="100%" height="100%" alt="Space Koupe, real name Navin Kuppamala, spits the fire during his set."/>
                <img src="img/Lou_Moss1.jpg" width="100%" height="100%" alt="Lou Moss debuts an original song with acoustic guitar and foot tambourine (not shown)."/>
                <img src="img/Jack_Butler.jpg" width="100%" height="100%" alt="Jack Butler performs on the harp. According to Ryan Harris, Butler was the first ever to perform the harp at any MPU event."/>
                <img src="img/Universal_Lease1.jpg" width="100%" height="100%" alt="The band Universal Lease performs under the light of a waxing gibbous moon."/>
                <img src="img/The_Elaborate_Owl2.jpg" width="100%" height="100%" alt="“What are your fffeeeaaarrrrsss??”, asks The Elaborate Owl, real name Johnny Schreiber, while performing an original song. He introduced the song as being inspired by Plato’s Allegory of the Cave, and its call to step beyond your boundaries."/>
                <img src="img/Blossomoon1.jpg" width="100%" height="100%" alt="Blossomoon, real name David Schreiber and brother of Johnny, sings about his past struggles with vaping addiction, falling in love and subsequent heartbreak."/>
                <img src="img/SPY1.jpg" width="100%" height="100%" alt="SPY closes out the night’s performances with a mix of punk covers and harsh vocals."/>
                <img src="img/Teardown1.jpg" width="100%" height="100%" alt="The MPU has many from the crowd volunteer to help tear down and pack up the show once it’s finished."/>
        </div><!--end of slideshow-->
        <!--beginning of slideshow caption-->
        <div id="alt-caption" class="center">
        </div><!--end of slideshow caption-->
        <p class="tab"><a href="#tl">A Night With The MPU</a></p>
    </article><!--end of article-->
</div><!--end of row-->
<!--end of slideshow section-->

<!--beginning of audio section-->
<div class="row whiteBG">
    <h2 id="tl">The People Of The MPU</h2>
    <article>
        <p class="tab">Click on images to hear their journeys in music...<br>(Double-click to pause audio)</p>
        <div class="table">
            <div id="trip">
                <audio id="audio_1">
                    <source src="j410-project/audio/O'brien.mp3" type="audio/mpeg" />
                </audio>
                <audio id="audio_2">
                    <source src="j410-project/audio/Carpenter.mp3" type="audio/mpeg" />
                </audio>
                <audio id="audio_3">
                    <source src="j410-project/audio/Yun.mp3" type="audio/mpeg" />
                </audio>

                <img src="j410-project/img/O'brien.gif" class="rollover" alt="description" onMouseOver="this.src='img/rollover/1.jpg'" onMouseOut="this.src='j410-project/img/O'brien.gif'" onClick="document.getElementById('audio_1').play(); return false;" onDblClick="document.getElementById('audio_1').pause(); return false;">
                /&gt;

                <img src="j410-project/img/Carpenter.gif" class="rollover" alt="description" onMouseOver="this.src='img/rollover/2.jpg'" onMouseOut="this.src='j410-project/img/Carpenter.gif'" onClick="document.getElementById('audio_2').play(); return false;" onDblClick="document.getElementById('audio_2').pause(); return false;">
                /&gt;

                <img src="j410-project/img/Yun.gif" class="rollover" alt="description" onMouseOver="this.src='img/rollover/3.jpg'" onMouseOut="this.src='j410-project/img/Yun.gif'" onClick="document.getElementById('audio_3').play(); return false;" onDblClick="document.getElementById('audio_3').pause(); return false;">
                /&gt;
            </div>
        </div>
        <p class="tab"><a href="#vid">The People Of The MPU</a></p>
    </article>
</div>
<!--end of audio section-->

<!--beginning of parallax image-->
<div class="parallax" data-parallax="scroll" data-bleed="10" data-speed="0.2" iosFix="true" data-image-src="img/parallax.jpg">
</div>
<!--end of parallax image-->

<!--beginning of video section-->
<div class="row orangeBG">
    <h2 id="vid">An Interview With Ryan Morris</h2>
    <article>
        <p class="tab">Blurb</p>
        <video width="100%" height="100%" poster="img/poster.jpg" controls>
            <source src="img/video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <p class="tab"><a href="#num">An Interview With Ryan Morris</a></p>
    </article>
</div>
<!--end of video section-->

<!--beginning of infographic section-->
<body>
	<div class="row whiteBG">
    <h2 id="num">Music Production Clubs Across The US</h2>
    <article>
        <p class="tab"></p>
        <!--infographic embed code here-->
    </article>
</div>
<!--end of infographic section-->

<!--beginning of audio player-->
<img src="j410-project/img/lemonade.png" id="background" />
  <audio src="j410-project/audio/Gazebo Dreams.mp3" id="song"></audio>
	<div class="container">
    	<div class="box"></div>
    <img src="j410-project/img/lemonade.png" id="thumbnail" />
    <img src="j410-project/img/play.png" onclick="playPause()"     
    id="play-pause" />
	<div class="song-artist">Cal Poly MPU</div>
  	<div class="song-title">Gazebo Dreams</div>    <!-- Input element for progress bar - min=0 starting value of  
    every song - max length will change per song so leave empty -->
    <input
      type="range"
      id="progress-bar"
      min="0"
      max=""
      value="0"
      onchange="changeProgressBar()"
    />    <div class="currentTime"></div>
    <div class="durationTime"></div>
  </div>
	<script>const background = document.querySelector('#background'); // background derived from album cover below
const thumbnail = document.querySelector('#thumbnail'); // album cover 
const song = document.querySelector('#song'); // audio object

const songArtist = document.querySelector('.song-artist'); // element where track artist appears
const songTitle = document.querySelector('.song-title'); // element where track title appears
const progressBar = document.querySelector('#progress-bar'); // element where progress bar appears
let pPause = document.querySelector('#play-pause'); // element where play and pause image appears

songIndex = 0;
songs = ['j410-project/audio/Gazebo Dreams.mp3']; // object storing paths for audio objects
thumbnails = ['./assets/images/lemonade.png']; // object storing paths for album covers and backgrounds
songArtists = ['Cal Poly MPU']; // object storing track artists
songTitles = ["Don't Hurt Yourself"]; // object storing track titles

// function where pp (play-pause) element changes based on playing boolean value - if play button clicked, change pp.src to pause button and call song.play() and vice versa.
let playing = true;
function playPause() {
    if (playing) {
        const song = document.querySelector('#song'),
        thumbnail = document.querySelector('#thumbnail');

        pPause.src = "./assets/icons/pause.png"
        thumbnail.style.transform = "scale(1.15)";
        
        song.play();
        playing = false;
    } else {
        pPause.src = "./assets/icons/play.png"
        thumbnail.style.transform = "scale(1)"
        
        song.pause();
        playing = true;
    }
}

// update progressBar.max to song object's duration, same for progressBar.value, update currentTime/duration DOM
function updateProgressValue() {
    progressBar.max = song.duration;
    progressBar.value = song.currentTime;
    document.querySelector('.currentTime').innerHTML = (formatTime(Math.floor(song.currentTime)));
    if (document.querySelector('.durationTime').innerHTML === "NaN:NaN") {
        document.querySelector('.durationTime').innerHTML = "0:00";
    } else {
        document.querySelector('.durationTime').innerHTML = (formatTime(Math.floor(song.duration)));
    }
};

// convert song.currentTime and song.duration into MM:SS format
function formatTime(seconds) {
    let min = Math.floor((seconds / 60));
    let sec = Math.floor(seconds - (min * 60));
    if (sec < 10){ 
        sec  = `0${sec}`;
    };
    return `${min}:${sec}`;
};

// run updateProgressValue function every 1/2 second to show change in progressBar and song.currentTime on the DOM
setInterval(updateProgressValue, 500);

// function where progressBar.value is changed when slider thumb is dragged without auto-playing audio
function changeProgressBar() {
    song.currentTime = progressBar.value;
};
	</script>
</body>
<!--end of audio player-->

<!--beginning of footer-->
	<footer>Site Name Here | San Luis Obispo, CA | <a href="mailto: bvollrat@calpoly.edu" target="_top">Send Email</a> | Copyright 2020 | Site by Brett Vollrath
	</footer>
<!--end of footer-->

<!--the following script controls the responsive navigation-->
<script>
	(function($) { // Begin jQuery
  $(function() { // DOM ready
    // If a link has a dropdown, add sub menu toggle.
    $('nav ul li a:not(:only-child)').click(function(e) {
      $(this).siblings('.nav-dropdown').toggle();
      // Close one dropdown when selecting another
      $('.nav-dropdown').not($(this).siblings()).hide();
      e.stopPropagation();
    });
    // Clicking away from dropdown will remove the dropdown class
    $('html').click(function() {
      $('.nav-dropdown').hide();
    });
    // Toggle open and close nav styles on click
    $('#nav-toggle').click(function() {
      $('nav ul').slideToggle();
    });
    // Hamburger to X toggle
    $('#nav-toggle').on('click', function() {
      this.classList.toggle('active');
    });
  }); // end DOM ready
})(jQuery); // end jQuery
	</script>
<script>
	var headertext = [];
var headers = document.querySelectorAll("#miyazaki th"),
tablerows = document.querySelectorAll("#miyazaki th"),
tablebody = document.querySelector("#miyazaki tbody");
for(var i = 0; i < headers.length; i++) {
	var current = headers[i];
	headertext.push( current.textContent.replace( /\r?\n|\r/,"") );
}
for (var i = 0, row; row = tablebody.rows[i]; i++) {
	for (var j = 0, col; col = row.cells[j]; j++) {
		col.setAttribute("data-th", headertext[j]);
	}
}
</script>

<!----Prevents audio tracks from playing simultaneously---->
<script>
document.addEventListener('play', function(e){
    var audios = document.getElementsByTagName('audio');
    for(var i = 0, len = audios.length; i < len;i++){
        if(audios[i] != e.target){
            audios[i].pause();
        }
    }
}, true);
    </script>

</html>
